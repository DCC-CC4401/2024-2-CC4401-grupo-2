<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Mis Restaurantes - FoodMap</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" 
              integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" 
              crossorigin="anonymous">
    </head>
<body>
   <div class="container" style="margin-top: 2em">
        <!-- Encabezado de la página -->
        <div class="row">
            <div class="col-md-10">
                <h1>Mis Restaurantes</h1>
            </div>
            <div class="col-xs-1">
                {% if user.is_authenticated %}
                    {% if user.tipo == "Propietario" %}
                        <!-- Botones para acciones del propietario -->
                        <a class="badge badge-primary" href="{% url 'register_restaurant' %}">Añadir un restaurante</a>
                        <a class="badge badge-secondary" href="{% url 'logout' %}">Cerrar Sesión</a>
                    {% endif %}
                {% endif %}
            </div>
        </div>
        
        <p class="tagline">Administra tus restaurantes registrados</p>
        
        <!-- Lista de restaurantes -->
        <div class="list-group mt-3">
            {% for restaurant in restaurants %}
                <div class="list-group-item">
                    <h5 class="mb-1">
                        <a href="{% url 'restaurant_detail' restaurant.id %}">
                            {{ restaurant.name }}
                        </a>
                    </h5>
                    <p class="mb-1"><strong>Dirección:</strong> {{ restaurant.address }}</p>
                    <p class="mb-1"><strong>Teléfono:</strong> {{ restaurant.phone }}</p>
                    <p class="mb-1"><strong>Correo:</strong> {{ restaurant.email }}</p>
                    <p class="mb-1"><strong>Sitio Web:</strong> <a href="{{ restaurant.website }}">{{ restaurant.website }}</a></p>
                    <p class="mb-1"><strong>Descripción:</strong> {{ restaurant.description }}</p>
                    <p class="mb-1"><strong>Categorías:</strong>
                        {% for categoria in restaurant.categorias.all %}
                            <span class="badge badge-secondary">{{ categoria.nombre }}</span>
                        {% endfor %}
                    </p>
                </div>
            {% empty %}
                <p>No tienes restaurantes registrados aún.</p>
            {% endfor %}
        </div> <!-- Fin de la lista -->

    </div><!-- container -->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</body>
</html>
